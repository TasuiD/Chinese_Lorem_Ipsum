<!DOCTYPE html>
<html lang="zh_cn">
<head>
  <!-- version 0.1.0 -->
  <meta charset="utf-8" />
  <title>中文乱文假数生成器</title>
  <style>
    /* ============
      common style
      ============ */

    body {
      margin: 0;
      padding: 0;
      font-size: 18px;
      font-family: "微软雅黑";
    }

    .container {
      width: 960px;
      margin: 0px auto;
      /* border: solid red 1px; */
      padding: 10px;
    }

    section {
      margin: 10px 0px;
    }
    /* button style */

    .btn-wrapper {
      text-align: center;
    }

    .btn {
      width: 100px;
      height: 40px;
      border-width: 0;
      font-size: 18px;
      margin: 10px 0px;
    }

    .btn:hover {
      cursor: pointer;
      background-color: black;
      color: white;
    }
    /* radio option style */

    .input-box {
      margin: 0px 10px;
      display: inline-block;
    }
    /* ============
      section option-panel style
      ============ */

    .customerized-text-size-input-box {
      display: none;
    }
    /* ============
      section generated-radom-text-box style
      ============ */
    .generated-radom-text {
      display: inline-block;
      line-height: 1.5em;
      min-height: 100px;
    }
    
    /* ============
      footer style
      ============ */
    footer{
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>中文乱文假数生成器</h1>
      <hr>
    </header>

    <section class="option-panel">
      <div class="radom-text-type-wrapper">
        <form>
          <h3>文本类型： </h3>
          <div class="input-box">
            <input type="radio" value="simplified-Chinese" name="radom-text-type" class="radom-text-type" checked>简体中文
          </div>
          <div class="input-box">
            <input type="radio" value="trditional-Chinese" name="radom-text-type" class="radom-text-type" disabled>
            <del>繁体中文</del>
          </div>
        </form>
      </div>

      <div class="radom-text-style-wrapper">
        <form>
          <h3>文本风格： </h3>
          <div class="input-box">
            <input type="radio" value="rich-radom-text" name="radom-text-style" class="radom-text-style" checked>带标点文本
            <div class="input-box">
              <input type="radio" value="plain-radom-text" name="radom-text-style" class="radom-text-style">无符号文本
            </div>
        </form>
        </div>

        <div class="radom-text-size-wrapper">
          <form>
            <h3>文字字数：</h3>
            <div class="input-box">
              <input type="radio" value="200" name="radom-text-size" class="radom-text-size" checked>200字
            </div>
            <div class="input-box">
              <input type="radio" value="500" name="radom-text-size" class="radom-text-size">500字
            </div>
            <div class="input-box">
              <input type="radio" value="1000" name="radom-text-size" class="radom-text-size">1000字
            </div>
            <div class="input-box customerized-text-size-box">
              <input type="radio" value="-1" name="radom-text-size" class="radom-text-size customerized-text-size">自定义（
              < 3000 字） <input type="text" value="50" class="customerized-text-size-input-box">
            </div>
          </form>
        </div>
        <div class="btn-wrapper">
          <button class="btn generate-btn">生成文本</button>
          
        </div>
        <hr>
    </section>

    <section class="generated-radom-text-box">
      <div class="generated-radom-text">
        请点击“生成文本”按钮以生成乱数假文！
      </div>
      <!--
      <hr>
      <div class="btn-wrapper">
        <button class="btn copy-btn">全部复制</button>
      </div>
       -->
    </section>

    <footer>
      <hr>
      <p>designed and created by sooxin, find me at <a href="https://github.com/sooxin" target="_blank">GitHub</a></p>
      <p>distributed under MIT License</p>
    </footer>
    </div>

    <script>
      'use strict'
      // 是否为自定义文字字数，是则文本框显示，否则隐藏
      function isCustomerizedTextSize() {
        var textSizeOpts = document.getElementsByClassName("input-box");
        var customerizedOpt = document.getElementsByClassName("customerized-text-size")[0];
        var inputBox = document.getElementsByClassName("customerized-text-size-input-box")[0];
        for (let i = 0; i < textSizeOpts.length; i++) {
          bindEventWithSafty("click", textSizeOpts[i], function () {
            if (customerizedOpt.checked) {
              inputBox.style.display = "inline";
            } else {
              inputBox.style.display = "none";
            }
          });
        }

      }

      // 得到0~(size-1)的随机整数
      function getRadomNumber(size) {
        return Math.floor(Math.random() * size);
      }


      /* add click event */
      function bindEventWithSafty(e, obj, func) {
        // firefox等
        if (obj.addEventListener) {
          obj.addEventListener(e, func, false);
        }
        // IE8 等
        if (obj.attachEvent) {
          obj.attachEvent("on" + e, func);
        }
      }


      /* 得到产生随机文本的重要参数 */
      function getRadomTextParameters() {

        // 得到文本类型radomTextType
        var textTypeOpts = document.getElementsByClassName("radom-text-type");
        var textType = "";
        for (let i = 0; i < textTypeOpts.length; i++) {
          if (textTypeOpts[i].checked) {
            textType = textTypeOpts[i].getAttribute("value");
          }
        }
        //console.log(textType);

        // 得到文本风格
        var textStyleOpts = document.getElementsByClassName("radom-text-style");
        var textStyle = "";
        for (let i = 0; i < textStyleOpts.length; i++) {
          if (textStyleOpts[i].checked) {
            textStyle = textStyleOpts[i].getAttribute("value");
          }
        }
        //console.log(textStyle);

        // 得到文本容量
        var textSizeOpts = document.getElementsByClassName("radom-text-size");
        var textSize = "";
        for (let i = 0; i < textSizeOpts.length; i++) {
          if (textSizeOpts[i].checked) {
            textSize = textSizeOpts[i].getAttribute("value");
          }
        }
        if (textSize === "-1") {
          textSize = document.getElementsByClassName("customerized-text-size-input-box")[0].value;
        }
        //console.log(textSize);
        showCharacters(textType, textStyle, textSize);
      }

      function showCharacters(textType, textStyle, textSize) {
        var simplifiedChineseCharacterDB = "的一是在了不和有大这主中人上为们地个用工时要动国产以我到他会作来分生对于学下级就年阶义发成部民可出能方进同行面说种过命度革而多子后自社加小机也经力线本电高量长党得实家定深法表着水理化争现所二起政三好十战无农使性前等反体合斗路图把结第里正新开论之物从当两些还天资事队批如应形想制心样干都向变关点育重其思与间内去因件日利相由压员气业代全组数果期导平各基或月毛然问比展那它最及外没看治提五解系林者米群头意只明四道马认次文通但条较克又公孔领军流入接席位情运器并飞原油放立题质指建区验活众很教决特此常石强极土少已根共直团统式转别造切九你取西持总料连任志观调七么山程百报更见必真保热委手改管处己将修支识病象几先老光专什六型具示复安带每东增则完风回南广劳轮科北打积车计给节做务被整联步类集号列温装即毫知轴研单色坚据速防史拉世设达尔场织历花受求传口断况采精金界品判参层止边清至万确究书术状厂须离再目海交权且儿青才证低越际八试规斯近注办布门铁需走议县兵固除般引齿千胜细影济白格效置推空配刀叶率述今选养德话查差半敌始片施响收华觉备名红续均药标记难存测士身紧液派准斤角降维板许破述技消底床田势端感往神便贺村构照容非搞亚磨族火段算适讲按值美态黄易彪服早班麦削信排台声该击素张密害侯草何树肥继右属市严径螺检左页抗苏显苦英快称坏移约巴材省黑武培著河帝仅针怎植京助升王眼她抓含苗副杂普谈围食射源例致酸旧却充足短划剂宣环落首尺波承粉践府鱼随考刻靠够满夫失包住促枝局菌杆周护岩师举曲春元超负砂封换太模贫减阳扬江析亩木言球朝医校古呢稻宋听唯输滑站另卫字鼓刚写刘微略范供阿块某功套友限项余倒卷创律雨让骨远帮初皮播优占死毒圈伟季训控激找叫云互跟裂粮粒母练塞钢顶策双留误础吸阻故寸盾晚丝女散焊功株亲院冷彻弹错散商视艺灭版烈零室轻血倍缺厘泵察绝富城冲喷壤简否柱李望盘磁雄似困巩益洲脱投送奴侧润盖挥距触星松送获兴独官混纪依未突架宽冬章湿偏纹吃执阀矿寨责熟稳夺硬价努翻奇甲预职评读背协损棉侵灰虽矛厚罗泥辟告卵箱掌氧恩爱停曾溶营终纲孟钱待尽俄缩沙退陈讨奋械载胞幼哪剥迫旋征槽倒握担仍呀鲜吧卡粗介钻逐弱脚怕盐末阴丰编印蜂急拿扩伤飞露核缘游振操央伍域甚迅辉异序免纸夜乡久隶缸夹念兰映沟乙吗儒杀汽磷艰晶插埃燃欢铁补咱芽永瓦倾阵碳演威附牙芽永瓦斜灌欧献顺猪洋腐请透司危括脉宜笑若尾束壮暴企菜穗楚汉愈绿拖牛份染既秋遍锻玉夏疗尖殖井费州访吹荣铜沿替滚客召旱悟刺脑措贯藏敢令隙炉壳硫煤迎铸粘探临薄旬善福纵择礼愿伏残雷延烟句纯渐耕跑泽慢栽鲁赤繁境潮横掉锥希池败船假亮谓托伙哲怀割摆贡呈劲财仪沉炼麻罪祖息车穿货销齐鼠抽画饲龙库守筑房歌寒喜哥洗蚀废纳腹乎录镜妇恶脂庄擦险赞钟摇典柄辩竹谷卖乱虚桥奥伯赶垂途额壁网截野遗静谋弄挂课镇妄盛耐援扎虑键归符庆聚绕摩忙舞遇索顾胶羊湖钉仁音迹碎伸灯避泛亡答勇频皇柳哈揭甘诺概宪浓岛袭谁洪谢炮浇斑讯懂灵蛋闭孩释乳巨徒私银伊景坦累匀霉杜乐勒隔弯绩招绍胡呼痛峰零柴簧午跳居尚丁秦稍追梁折耗碱殊岗挖氏刃剧堆赫荷胸衡勤膜篇登驻案刊秧缓凸役剪川雪链渔啦脸户洛孢勃盟买杨宗焦赛旗滤硅炭股坐蒸凝竟陷枪黎救冒暗洞犯筒您宋弧爆谬涂味津臂障褐陆啊健尊豆拔莫抵桑坡缝警挑污冰柬嘴啥饭塑寄赵喊垫康遵牧遭幅园腔订香肉弟屋敏恢忘衣孙龄岭骗休借丹渡耳刨虎笔稀昆浪萨茶滴浅拥穴覆伦娘吨浸袖珠雌妈紫戏塔锤震岁貌洁剖牢锋疑霸闪埔猛诉刷狠忽灾闹乔唐漏闻沈熔氯荒茎男凡抢像浆旁玻亦忠唱蒙予纷捕锁尤乘乌智淡允叛畜俘摸锈扫毕璃宝芯爷鉴秘净蒋钙肩腾枯抛轨堂拌爸循诱祝励肯酒绳穷塘燥泡袋朗喂铝软渠颗惯贸粪综墙趋彼届墨碍启逆卸航雾冠丙街莱贝辐肠付吉渗瑞惊顿挤秒悬姆烂森糖圣凹陶词迟蚕亿矩脊歼羽掩汗碰谱童庭蓬贴岸店怪馆挡肢胆君乏傅凌恰吴鸡盆氮铃荡汇狂偶辽宴珊描监涉伏弃仔坯症睛窝跃串瑚饱巢辑迷诗肃谊胎宾顽钠辛阔牲估禁屑秀催炸搬坑暂埋墓腰隆堡迈慌钾魏踏旺蜜兼扭肺兄撒矮拆叉贮抬痕彩冻丛漆详拨瓜奔腿暖脾棒湾旅潜摄朱纤览融拍愚添抱蓄稿翅蛾锐栓签牌瞧疏舍糊驱泉毁伪锯卢函掘扰淬册棱爬豪螟标授朋俗骂仓脏昌邦欺博伐衰寻杠蜗尿幕絮蘖辨孵垄粹填丘歪鬼挺帅斥摘父狗罢炎疆肝酶恨曼蹲币返颠剩港颜酵梯楼绪淮邻御杰恒弗溉淀苯跨肿抑诸凉胚舒胀氢搭醒逃曰竞疾韩尘寿孤督涡甜拒梅乔锡睡昂烯拧扑郊患购蝗锅蔑赖瓶租怒巧膏涌狭醇惕档燕泰胁盘竭违丽氨框舌膨骤蓝幸诚吓秩扶芬咬牵忍椎愤迁仇滩仿绘辈拚喝驳畦番扑葡款敲邀郭妥隐轰籽忆旦犹庸崇庙秆闸厉臣窗纺掠涝涨递葬阅堵扁钳棚鳞伴珍敦椭沃欲鼻宇甫锌皆铲砖贼渣济筛斋梦贪哇萄铺桃蟹挝糙颈雅晒韦耻沸雇储畏霍菲徐榜囊腺茨陕抹屈宿硝昨蔬郝铬茧窄哨辆耀仲薯僚浙饰朴恐腊兽蜡惠犁嘛售鳍敬坝烘颂叔卧纠络玩栏剑苹闯丢柏牺奎嚷宫肾笼郑叙奶芒霞朽妹茬码掀阁卑铰铵弦肤拟署淋梨迪俩撑呵申穆杯姑劝崩劣贺棕裁吐嫩凭曹摧疫鸟镍眉梁禾臭冈陵歧幻丧迭脆怨董镀酷罐逻橡浩撤驶享锦俺佛兔姿铅堤址溃胺皱晨胃氟灿漫泄枢戴孕扣沼逼肌碗巡吊盗蚜钩汤梢挨翼疯鞭扇冶烦悉蔓泼桌柯罩啮勾舰晋扳谴侯倡诊鸣桂奖贾朵霜萌滞蛹阐偿译稼捞棵戈诬撮洒萧奸饮涅衬镗纱瘤葛饼凶饵沾馏钼鞋姓汞枣溜疼凑醛颌肖篡邓撞搅铡卜歇妨挽审凯轧垒箭炕浑龟账趣俭泪泊乃捉窑驾汁凿饿帽湘郎欣慎芳肪蔽绵畅盲缚焕惜仰衍廷玄泻蒲捣妙帕蛇锰棘溪匪绒潘疲纬鸭坎盒拼荫兆熊悲捧锄奉陪玛微钨籍蚊漂糟嘉狼桶拾唉默皂吕馈酯邪孝睛屠畸峡祥蒂拜蝉艾叹淑烤骄篮伞尝吏吞雹勘萎闲佳耙剿鳃砍冯毅骑酚咳煮披佩杏偷摊肚昔韧唇喘吵荆刑拦镁蹄瓷澳塌饥垮滋钝醋捍诡哩宏瞬缔婆扛捷刹猿葱亏阮帆纂喀邵丑郁茂糠俞泳夸砚抖渴聪拱泌藻靶褶扯藤悄逊岘姜砾舆瘦咸焰榴涛垦媳圃胳肆仑叠攀莲债汪棍飘闷蛄蔗贷俊傲哺蝼颁蠢鲤噪膀氛洼栅凤溢炊浦橄陡胰仙柔咂呆姐哭懈兹赋岳楔蜕嵌僵晰挠熙婚缠鬃佣吾辞抚暑遮嚣赴钒嫁磺膛辣谨鄙桩惨杉秸蝇鞘匆娟晃涕萍钛眇趁邮蛮廉熏侦浴俯圭颇赢掏帜枚酮瓣宙谣踩奏竖鞍曝耶茄谐躺榄臼哎抄铆晓虱矢艇坞鞅履恳弥搜肛逸喉苔茁欠叭扔琴芦俱砌拢礁茫筹辱靳枕惩醉挣婶拣嫂荚膊铂昏滨誓夕扮昼艘遥戒逢苍匈慈愁唤蕾帐掺丈瘟顷裕誉祸坛彭橘匹傍淤烷绞豫庞咒芝荀弓罚捏嗨楞仕嘻沫崖瞅帘榨墒捐恕螨汛诞赏琼贩鸿铭嘱隘驰娃瞎遣跌挪耘悦钴魂裸薛鲢躲鳙悠碘沥嘿灶饶酬艳堪淹怠砷吁涤慰缴窜羔趟脖锭兜魔梗炒纽奈硼鼎惑栗谎袁滥亨浊埂垅匝轲遂乒踪俘怔陨噬惧颖茅摔粳垃圾疮厅鄂讥隧睁痰镶哀劈峻尸拐拳眠蔡腋哑契翁肋砧捆哟菊笨垛谦畴膝铍猜殷咽巾赌骚挫钦乓痹嘲渍杭蕉妻壶仆耸蛙廊蛛翠鹰喻扼蕴寇腥瞪籼咕猫况鹏钮搏溅胫萝臀鲫羞罕殿忌亭盅菇旨吻厌宰氰屏桐颚佐栖蒜卓殉搁煌橙窖眨墩躁沛翘蜘酰矫钵哗梭毂嗓禽壕凳筐耦漠屁恭钡驴姚怖滔煽虾哼匠禄稚蚁窃咐茵坊裤勿熬狱熄荐镰柑屯醚耿髓戊腕愉蕨眶煎盈慨晕盼勉虏釉皿瘀昭蝈嗽讽秃谚畔疽冕宵窍峪槐癌敷岂侮携脓卿丸柜碾咀烃怜蝽傻椰逮猎崎淆寺恼胖颊氩盯赠甩坪淘谭莎雏棺躯熹蚧懒踢爵衷仟陋撕缆晾狡庇蓖酿拓簇蚌阎雀鹿卤荸荠搂琢猾苷祛崭硕苞逞炫厄焚铀舵耽爽稠跗邱盏廖韵豹钓奠溴枫犬猖驯侨灼翟擂嘀汹磅嚼狮爹鹅贤颅煞萤烙蛀裹骡痢巷寡碧猴栋嗯柿篷吱厩鳄蕊甸澄闺荧黔嫌瑟玲撇敞葫硷乞蛭阜矾瞒聊琅傀儡啃澜绥豌删龚衔敛厢堕潭舶翔赔夷稗啉僻堰恋萘扒瞄韶笋蚴媒榆廊衅吼锹睦颤刽啬慧碑彝瘠祭侣赚蝶郡叨岔坟疤螬悔譬乖巍疡禹魁掷棋憎阱坠碲卟哄彬绑腑押揉枷菱蹈汰渎愧珩贬衫宅蛴夯吭烫灸竿酱倦镦寮戳睾拴孜迄秤笛羟蜱樟鲍蠕芍诫慕虹厦弊翰锣沪逝诈劫锂咧凋毡蓟椅毯斧绸矣祁襄";
        var simplifiedChinesePunctuationDB = "，，，，，，、、；。。。。！！……？？**%@";
        var characters = "";
        // 选项为纯文本时
        if (textStyle === "plain-radom-text") {
          characters = getPlainCharacters(textSize, simplifiedChineseCharacterDB);
        } else {
          // 选项为带标点的文本时
          characters = getCharatersWithPuntuation(textSize, simplifiedChineseCharacterDB, simplifiedChinesePunctuationDB);
        }

        // 输出最终文本结果
        var generatedRadomText = document.getElementsByClassName("generated-radom-text")[0];
        generatedRadomText.innerHTML = characters;
      }

      // 根据得到的文本字数返回相应的随机纯文本
      function getPlainCharacters(textSize, characterDB) {
        var textLength = characterDB.length;
        if (textSize > textLength || textSize <= 0) {
          console.log("请输入正确值！");
          return;
        }
        var plainCharacters = "";
        for (let i = 0; i < textSize; i++) {
          //var radomLocation = Math.floor(textLength*Math.random());
          plainCharacters += characterDB[getRadomNumber(textLength)];
        }
        console.log(plainCharacters);
        return plainCharacters;
      }

      // 根据得到的文本字数返回带标点符号的文本
      function getCharatersWithPuntuation(textSize, characterDB, punctuationDB) {
        var textLength = characterDB.length;
        if (textSize > textLength || textSize <= 0) {
          console.log("请输入正确值！");
          return;
        }
        var characters = characterDB[getRadomNumber(textLength)];
        for (let i = 1; i < textSize; i++) {
          //var radomLocation = Math.floor(textLength*Math.random());
          if (Math.random() < 0.04) {
            // 前一个字符是标点则后一个字符不为标点
            if (punctuationDB.indexOf(characters[i - 1]) === -1) {
              characters += punctuationDB[getRadomNumber(punctuationDB.length)];
              continue;
            }
          }
          characters += characterDB[getRadomNumber(textLength)];
        }
        //console.log(characters);

        // 当文本最后一个字符非标点符号时为其添加末尾标点
        if (punctuationDB.indexOf(characters[characters.length - 1]) === -1) {
          //console.log(characters[characters.length-1]);
          var endPunctuatoins = ["。", "！", "？"];
          characters += endPunctuatoins[getRadomNumber(endPunctuatoins.length)];

        }
        // 添加换行
        characters = "<p>" + characters + "</p>";
        characters = characters.replace(/\*/g, "。</p><p>").replace(/\%/g, "！</p><p>").replace(/\@/g, "？</p><p>");

        return characters;
      }
      window.onload = function () {
        var generateBtn = document.getElementsByClassName("generate-btn")[0];
        bindEventWithSafty("click", generateBtn, getRadomTextParameters);
        isCustomerizedTextSize();
      };
    </script>
</body>

</html>